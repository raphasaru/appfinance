---
phase: 01-componentes-layout
plan: 03
type: execute
wave: 2
depends_on: ["01-01", "01-02"]
files_modified:
  - src/components/dashboard/transactions-list.tsx
  - src/app/(dashboard)/dashboard/page.tsx
autonomous: true

must_haves:
  truths:
    - "TransactionsList renderiza lista unica (nao duas colunas)"
    - "Dashboard desktop usa lista unica com filtros"
    - "Mesmo componente TransactionCard usado em mobile e desktop"
    - "Filtros de status funcionam no desktop"
  artifacts:
    - path: "src/components/dashboard/transactions-list.tsx"
      provides: "TransactionsList com layout unificado"
      contains: "TransactionFilters"
    - path: "src/app/(dashboard)/dashboard/page.tsx"
      provides: "Dashboard usando nova TransactionsList"
      contains: "useTransactionFilters"
  key_links:
    - from: "src/app/(dashboard)/dashboard/page.tsx"
      to: "src/lib/hooks/use-transaction-filters.ts"
      via: "import { useTransactionFilters }"
      pattern: "useTransactionFilters"
    - from: "src/components/dashboard/transactions-list.tsx"
      to: "src/components/transactions/transaction-filters.tsx"
      via: "import { TransactionFilters }"
      pattern: "TransactionFilters"
---

<objective>
Refatorar TransactionsList para lista unica e integrar filtros no Dashboard.

Purpose: Unificar UX entre mobile e desktop - lista unica com toggle inline.
Output: Dashboard desktop com mesma UX do mobile.
</objective>

<execution_context>
@/Users/charbellelopes/.claude/get-shit-done/workflows/execute-plan.md
@/Users/charbellelopes/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-componentes-layout/01-01-SUMMARY.md
@.planning/phases/01-componentes-layout/01-02-SUMMARY.md
@src/components/dashboard/transactions-list.tsx
@src/app/(dashboard)/dashboard/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Refatorar TransactionsList para lista unica</name>
  <files>src/components/dashboard/transactions-list.tsx</files>
  <action>
Refatorar TransactionsList:

ANTES: duas colunas (Pendentes | Concluidas) com grid lg:grid-cols-2
DEPOIS: lista unica com filtros no topo

Nova interface:
```typescript
interface TransactionsListProps {
  transactions: Transaction[];
  statusFilter: StatusFilter;
  onStatusChange: (filter: StatusFilter) => void;
  counts: { all: number; pending: number; completed: number };
  onEdit: (transaction: Transaction) => void;
  onAdd: () => void;
  isLoading?: boolean;
}
```

Implementacao:
1. Remover grid de duas colunas
2. Adicionar TransactionFilters no topo do Card
3. Renderizar transactions em lista unica
4. Manter empty state quando nenhuma transacao
5. Manter loading state com skeletons

Importar TransactionFilters de @/components/transactions/transaction-filters
  </action>
  <verify>
grep "grid-cols-2" src/components/dashboard/transactions-list.tsx (nao deve encontrar)
grep "TransactionFilters" src/components/dashboard/transactions-list.tsx
  </verify>
  <done>
TransactionsList usa lista unica
Filtros no topo da lista
Nao tem mais duas colunas
  </done>
</task>

<task type="auto">
  <name>Task 2: Integrar filtros no Dashboard desktop</name>
  <files>src/app/(dashboard)/dashboard/page.tsx</files>
  <action>
Atualizar Dashboard page:

1. Importar useTransactionFilters de @/lib/hooks/use-transaction-filters
2. Usar hook no lugar da logica manual de filtro
3. Remover variaveis pendingTransactions/completedTransactions (agora vem do hook)
4. Passar props corretas para TransactionsList nova interface
5. Manter logica mobile intacta (ja usa lista unica)
6. Desktop section: passar filtered, statusFilter, onStatusChange, counts

Remover:
- useMemo para pendingTransactions/completedTransactions
- statusFilter state manual (vem do hook agora)

NAO mudar:
- Mobile layout (ja esta correto)
- HeroBalanceCard, QuickActions, SummaryCards
- FormOpen/editingTransaction logica
  </action>
  <verify>
grep "useTransactionFilters" src/app/(dashboard)/dashboard/page.tsx
grep "pendingTransactions" src/app/(dashboard)/dashboard/page.tsx (deve ter menos ocorrencias)
npm run build
  </verify>
  <done>
Dashboard usa useTransactionFilters
Desktop mostra lista unica com filtros
Mobile continua funcionando igual
  </done>
</task>

</tasks>

<verification>
1. TransactionsList nao tem grid duas colunas
2. Dashboard importa useTransactionFilters
3. `npm run build` compila sem erros
4. Desktop dashboard mostra filtros + lista unica
</verification>

<success_criteria>
- Lista unica no Dashboard desktop (remover duas colunas)
- Filtros funcionando
- Mesmo TransactionCard usado em ambos layouts
- Build passa
</success_criteria>

<output>
After completion, create `.planning/phases/01-componentes-layout/01-03-SUMMARY.md`
</output>
