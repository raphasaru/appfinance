# Milestone v1.0: UX Transacoes v2

**Status:** ✅ SHIPPED 2026-02-01
**Phases:** 1-3
**Total Plans:** 6

## Overview

Migrar de duas colunas para lista unica com toggle inline de status e filtro por tabs. Tres fases: componentes base, comportamento toggle com optimistic updates, e filtros com tabs.

## Phases

### Phase 1: Componentes & Layout

**Goal**: Componentes reutilizaveis com touch-friendly sizing e layout unificado
**Depends on**: Nothing
**Requirements**: CMP-01, CMP-02, LAY-01, LAY-02, TOG-02, TOG-04
**Plans**: 4 plans

Plans:
- [x] 01-01-PLAN.md — StatusToggleButton + TransactionCard (Wave 1) ✓
- [x] 01-02-PLAN.md — useTransactionFilters hook + TransactionFilters (Wave 1) ✓
- [x] 01-03-PLAN.md — TransactionsList refactor + Dashboard integration (Wave 2) ✓
- [x] 01-04-PLAN.md — Transacoes page integration (Wave 2) ✓

**Success Criteria:**
1. StatusToggleButton existe como componente reutilizavel ✓
2. Touch target do toggle tem minimo 44x44px ✓
3. Badge de status (check verde = pago) visivel em cada card ✓
4. Lista unica de transacoes (sem duas colunas separadas) ✓
5. Mesmo componente usado no Dashboard e Transacoes ✓

### Phase 2: Toggle & Form

**Goal**: Toggle funcional com feedback imediato e integracao no formulario
**Depends on**: Phase 1
**Requirements**: TOG-01, TOG-03, FRM-01
**Plans**: 2 plans

Plans:
- [x] 02-01-PLAN.md — Optimistic updates for toggle mutations (Wave 1) ✓
- [x] 02-02-PLAN.md — Status toggle in TransactionForm (Wave 1) ✓

**Success Criteria:**
1. Usuario pode tocar toggle pra alternar pago/pendente ✓
2. UI atualiza imediatamente (< 100ms) antes da resposta do servidor ✓
3. Erro do servidor reverte estado visual ✓
4. Formulario de nova transacao tem toggle de status ✓

### Phase 3: Filter Tabs

**Goal**: Filtro por status via tabs com feedback de contagem
**Depends on**: Phase 2
**Requirements**: TAB-01, TAB-02, TAB-03
**Plans**: 0 plans (completed during Phase 1)

Plans:
- (Filter infrastructure built in Phase 1 plans 01-02)

**Success Criteria:**
1. Tabs Todos | Pendentes | Pagos visiveis no topo ✓
2. Cada tab mostra contador de itens ✓
3. Tab "Todos" selecionada por padrao ao abrir ✓
4. Filtro funciona instantaneamente (client-side) ✓

---

## Milestone Summary

**Key Decisions:**

- Hook/component separation: Hook handles logic, component handles UI
- Single component with variants vs multiple components
- Status mapping "pending" -> "planned" encapsulated in hook
- Pills variant for desktop TransactionFilters in Card header
- Sort transactions in page, not hook (separation of concerns)
- Filter chaining: hook returns status-filtered, then page applies type filter and sort
- completed_date set to due_date when creating as completed

**Issues Resolved:**

- Nullable status type fixed with nullish coalescing
- All 12 v1 requirements shipped without gaps

**Issues Deferred:**

- v2 requirements (undo snackbar, ARIA, animations, swipe, haptic, localStorage persistence)

**Technical Debt Incurred:**

- None identified

---

*For current project status, see .planning/ROADMAP.md*
